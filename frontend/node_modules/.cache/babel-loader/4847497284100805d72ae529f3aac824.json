{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\projeto\\\\pi-2\\\\frontend\\\\src\\\\pages\\\\apps\\\\Chat\\\\ChatArea.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { Link } from 'react-router-dom';\nimport { Card, Dropdown, Row, Col } from 'react-bootstrap';\nimport classNames from 'classnames';\nimport * as yup from 'yup';\nimport { yupResolver } from '@hookform/resolvers/yup'; // components\n\nimport { FormInput } from '../../../components/';\nimport Scrollbar from '../../../components/Scrollbar';\nimport Loader from '../../../components/Loader';\nimport ProfileModal from './ProfileModal';\nimport VideocallModal from './VideocallModal';\nimport VoicecallModal from './VoicecallModal'; // default data\n\nimport { CHATHISTORY } from './data'; // images\n\nimport avatar1 from '../../../assets/images/users/avatar-2.jpg';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst ChatHeader = ({\n  selectedUser\n}) => {\n  _s();\n\n  // handle profile modal\n  const [showProfileModal, setShowProfileModal] = useState(false);\n\n  const handleProfileModalClose = () => setShowProfileModal(false);\n\n  const handleProfileModalShow = () => setShowProfileModal(true); // handle video modal\n\n\n  const [showVideocallModal, setShowVideocallModal] = useState(false);\n\n  const handleVideocallModalClose = () => setShowVideocallModal(false);\n\n  const handleVideocallModalShow = () => setShowVideocallModal(true); // handle voice modal\n\n\n  const [showVoicelModal, setShowVoicelModal] = useState(false);\n\n  const handleVoicelModalClose = () => setShowVoicelModal(false);\n\n  const handleVoicelModalShow = () => setShowVoicelModal(true);\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex pb-2 border-bottom align-items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: selectedUser.avatar,\n        className: \"me-2 rounded-circle\",\n        height: \"48\",\n        alt: \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n          className: \"mt-0 mb-0 fs-14\",\n          children: selectedUser.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mb-0\",\n          children: \"Online\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-grow-1\",\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"list-inline float-end mb-0\",\n          children: [/*#__PURE__*/_jsxDEV(Dropdown, {\n            as: \"li\",\n            className: \"list-inline-item fs-18 me-3\",\n            children: /*#__PURE__*/_jsxDEV(Dropdown.Toggle, {\n              id: \"dropdown-apps\",\n              as: \"a\",\n              className: \"cursor-pointer text-dark\",\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"bi bi-telephone-plus\",\n                onClick: () => handleVoicelModalShow()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 59,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Dropdown, {\n            as: \"li\",\n            className: \"list-inline-item fs-18 me-3\",\n            children: /*#__PURE__*/_jsxDEV(Dropdown.Toggle, {\n              id: \"dropdown-apps\",\n              as: \"a\",\n              className: \"cursor-pointer text-dark\",\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"bi bi-camera-video\",\n                onClick: () => handleVideocallModalShow()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 65,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Dropdown, {\n            as: \"li\",\n            className: \"list-inline-item fs-18\",\n            children: [/*#__PURE__*/_jsxDEV(Dropdown.Toggle, {\n              id: \"dropdown-apps\",\n              as: \"a\",\n              className: \"cursor-pointer text-dark\",\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"bi bi-three-dots-vertical\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 71,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Dropdown.Menu, {\n              className: \"dropdown-menu-end\",\n              children: [/*#__PURE__*/_jsxDEV(Dropdown.Item, {\n                href: \"#/\",\n                onClick: () => handleProfileModalShow(),\n                children: [' ', /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"bi bi-person-circle fs-18 me-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 77,\n                  columnNumber: 37\n                }, this), \"View Profile\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 75,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n                href: \"#/\",\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"bi bi-music-note-list fs-18 me-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 80,\n                  columnNumber: 37\n                }, this), \"Media, Links and Docs\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 79,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n                href: \"#/\",\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"bi bi-search fs-18 me-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 83,\n                  columnNumber: 37\n                }, this), \"Search\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 82,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n                href: \"#/\",\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"bi bi-image fs-18 me-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 86,\n                  columnNumber: 37\n                }, this), \"Wallpaper\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 85,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n                href: \"#/\",\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"bi bi-arrow-right-circle fs-18 me-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 89,\n                  columnNumber: 37\n                }, this), \"More\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 88,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(ProfileModal, {\n      show: showProfileModal,\n      handleClose: handleProfileModalClose\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(VideocallModal, {\n      show: showVideocallModal,\n      handleClose: handleVideocallModalClose\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(VoicecallModal, {\n      show: showVoicelModal,\n      handleClose: handleVoicelModalClose\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n\n_s(ChatHeader, \"jKujxcho0KvxsKX0a4fS4J1p8sM=\");\n\n_c = ChatHeader;\n\n// user messages\nconst UserMessage = ({\n  message,\n  toUser\n}) => {\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: (message.messages || []).map((item, index) => {\n      return /*#__PURE__*/_jsxDEV(\"li\", {\n        className: classNames('clearfix', {\n          odd: message.from.id === toUser.id,\n          'mb-1': message.messages.length > 1 && index !== message.messages.length - 1\n        }),\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"conversation-text ms-0\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: classNames('d-flex', {\n              'justify-content-end': message.from.id === toUser.id\n            }),\n            children: [message.from.id === toUser.id && /*#__PURE__*/_jsxDEV(Dropdown, {\n              className: \"conversation-actions\",\n              children: [/*#__PURE__*/_jsxDEV(Dropdown.Toggle, {\n                as: \"a\",\n                className: \"cursor-pointer text-dark pe-1\",\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"bi bi-three-dots-vertical fs-14\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 133,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 132,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(Dropdown.Menu, {\n                align: \"end\",\n                children: [/*#__PURE__*/_jsxDEV(Dropdown.Item, {\n                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"bi bi-reply fs-18 me-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 137,\n                    columnNumber: 49\n                  }, this), \"Reply\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 136,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"bi bi-star fs-18 me-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 140,\n                    columnNumber: 49\n                  }, this), \"Reply\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 139,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"bi bi-trash fs-18 me-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 143,\n                    columnNumber: 49\n                  }, this), \"Delete\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 142,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"bi bi-files fs-18 me-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 146,\n                    columnNumber: 49\n                  }, this), \"Copy\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 145,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 135,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 37\n            }, this), item.type === 'text' && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ctext-wrap\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                children: item.value\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 154,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 37\n            }, this), item.type === 'file' && /*#__PURE__*/_jsxDEV(Card, {\n              className: \"mb-1 shadow-none border text-start\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-2\",\n                children: /*#__PURE__*/_jsxDEV(Row, {\n                  className: \"align-items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(Col, {\n                    className: \"col-auto\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"avatar-sm bg-primary text-white\",\n                      children: /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"avatar-title rounded\",\n                        children: \".ZIP\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 164,\n                        columnNumber: 57\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 163,\n                      columnNumber: 53\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 162,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    className: \"ps-0\",\n                    children: [/*#__PURE__*/_jsxDEV(Link, {\n                      to: \"#\",\n                      className: \"text-muted fw-bold\",\n                      children: item.value.file\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 168,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"mb-0\",\n                      children: item.value.size\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 171,\n                      columnNumber: 53\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 167,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    className: \"col-auto\",\n                    children: /*#__PURE__*/_jsxDEV(Link, {\n                      to: \"#\",\n                      className: \"ps-3 fs-24\",\n                      children: /*#__PURE__*/_jsxDEV(\"i\", {\n                        className: \"bi bi-arrow-down-square\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 175,\n                        columnNumber: 57\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 174,\n                      columnNumber: 53\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 173,\n                    columnNumber: 49\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 161,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 160,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 37\n            }, this), message.from.id !== toUser.id && /*#__PURE__*/_jsxDEV(Dropdown, {\n              className: \"conversation-actions\",\n              children: [/*#__PURE__*/_jsxDEV(Dropdown.Toggle, {\n                as: \"a\",\n                className: \"cursor-pointer text-dark ps-1\",\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"bi bi-three-dots-vertical fs-14\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 186,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 185,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(Dropdown.Menu, {\n                align: \"start\",\n                children: [/*#__PURE__*/_jsxDEV(Dropdown.Item, {\n                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"bi bi-reply fs-18 me-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 190,\n                    columnNumber: 49\n                  }, this), \"Reply\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 189,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"bi bi-star fs-18 me-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 193,\n                    columnNumber: 49\n                  }, this), \"Reply\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 192,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"bi bi-trash fs-18 me-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 196,\n                    columnNumber: 49\n                  }, this), \"Delete\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 195,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"bi bi-files fs-18 me-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 199,\n                    columnNumber: 49\n                  }, this), \"Copy\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 198,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 188,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 29\n          }, this), index === message.messages.length - 1 && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-muted fs-12 mb-0 mt-1\",\n            children: [message.sendOn, message.from.id === toUser.id && /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"bi bi-check2-all ms-1 text-success\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 41\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 25\n        }, this)\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 21\n      }, this);\n    })\n  }, void 0, false);\n};\n\n_c2 = UserMessage;\n\n// ChatArea\nconst ChatArea = ({\n  selectedUser\n}) => {\n  _s2();\n\n  const [loading, setLoading] = useState(false);\n  const [chatHistory, setChatHistory] = useState([]);\n  const [toUser] = useState({\n    id: 9,\n    name: 'Shreyu N',\n    avatar: avatar1\n  });\n  /*\n   *  Fetches the messages for selected user\n   */\n\n  const getMessagesForUser = useCallback(() => {\n    if (selectedUser) {\n      setLoading(true);\n      setTimeout(() => {\n        const modifiedChatHistory = [...CHATHISTORY].map(record => {\n          const test = {\n            id: record.id,\n            day: record.day,\n            messages: [...record.messages].filter(m => m.to.id === toUser.id && m.from.id === selectedUser.id || toUser.id === m.from.id && m.to.id === selectedUser.id)\n          };\n          return test;\n        });\n        setChatHistory([...modifiedChatHistory]);\n        setLoading(false);\n      }, 750);\n    }\n  }, [selectedUser, toUser.id]);\n  useEffect(() => {\n    getMessagesForUser();\n  }, [getMessagesForUser]);\n  /*\n   * form validation schema\n   */\n\n  const schemaResolver = yupResolver(yup.object().shape({\n    newMessage: yup.string().required('Please enter your messsage')\n  }));\n  /*\n   * form methods\n   */\n\n  const methods = useForm({\n    resolver: schemaResolver\n  });\n  const {\n    handleSubmit,\n    register,\n    control,\n    formState: {\n      errors\n    },\n    reset\n  } = methods;\n  /**\n   * sends the chat message\n   */\n\n  const sendChatMessage = values => {\n    let newUserMessages = [...chatHistory[chatHistory.length - 1].messages];\n    newUserMessages.push({\n      id: chatHistory[chatHistory.length - 1].messages.length + 1,\n      from: toUser,\n      to: selectedUser,\n      messages: [{\n        type: 'text',\n        value: values['newMessage']\n      }],\n      sendOn: new Date().getHours() + ':' + new Date().getMinutes()\n    });\n    const modifiedChatHistory = [...chatHistory].map((record, index) => {\n      const test = {\n        id: record.id,\n        day: record.day,\n        messages: index === chatHistory.length - 1 ? newUserMessages : record.messages\n      };\n      return test;\n    });\n    setChatHistory([...modifiedChatHistory]);\n    reset();\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Card, {\n      children: /*#__PURE__*/_jsxDEV(Card.Body, {\n        children: [loading && /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 33\n        }, this), /*#__PURE__*/_jsxDEV(ChatHeader, {\n          selectedUser: selectedUser\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-1\",\n          children: [/*#__PURE__*/_jsxDEV(Scrollbar, {\n            style: {\n              height: '509px',\n              width: '100%'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"conversation-list px-0 h-100\",\n              children: (chatHistory || []).map((item, index) => {\n                return /*#__PURE__*/_jsxDEV(React.Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                    className: \"position-relative\",\n                    children: [/*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 324,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n                      children: /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"badge bg-light text-dark position-absolute top-0 start-50 translate-middle\",\n                        children: item.day\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 326,\n                        columnNumber: 53\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 325,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 323,\n                    columnNumber: 45\n                  }, this), (item.messages || []).map((message, index) => {\n                    return /*#__PURE__*/_jsxDEV(UserMessage, {\n                      message: message,\n                      toUser: toUser\n                    }, index, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 332,\n                      columnNumber: 56\n                    }, this);\n                  })]\n                }, index, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 322,\n                  columnNumber: 41\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 319,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 318,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-2 bg-light p-3 rounded\",\n            children: /*#__PURE__*/_jsxDEV(\"form\", {\n              noValidate: true,\n              name: \"chat-form\",\n              id: \"chat-form\",\n              onSubmit: handleSubmit(sendChatMessage),\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col mb-2 mb-sm-0\",\n                  children: /*#__PURE__*/_jsxDEV(FormInput, {\n                    type: \"text\",\n                    name: \"newMessage\",\n                    className: \"border-0\",\n                    placeholder: \"Enter your text\",\n                    register: register,\n                    errors: errors,\n                    control: control\n                  }, \"newMessage\", false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 344,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 343,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-sm-auto\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"btn-group\",\n                    children: [/*#__PURE__*/_jsxDEV(Link, {\n                      to: \"#\",\n                      className: \"btn btn-light\",\n                      children: /*#__PURE__*/_jsxDEV(\"i\", {\n                        className: \"bi bi-emoji-smile fs-18\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 358,\n                        columnNumber: 49\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 357,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(Link, {\n                      to: \"#\",\n                      className: \"btn btn-light\",\n                      children: /*#__PURE__*/_jsxDEV(\"i\", {\n                        className: \"bi bi-paperclip fs-18\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 361,\n                        columnNumber: 49\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 360,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(Link, {\n                      to: \"#\",\n                      className: \"btn btn-light\",\n                      children: /*#__PURE__*/_jsxDEV(\"i\", {\n                        className: \"bi bi-camera fs-18\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 364,\n                        columnNumber: 49\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 363,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      type: \"submit\",\n                      className: \"btn btn-success chat-send\",\n                      children: /*#__PURE__*/_jsxDEV(\"i\", {\n                        className: \"uil uil-message\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 367,\n                        columnNumber: 49\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 366,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 356,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 355,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 342,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 341,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 340,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 312,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n};\n\n_s2(ChatArea, \"0Ik+vFKuG1e+RrWf7zM5jkj5BwI=\", false, function () {\n  return [useForm];\n});\n\n_c3 = ChatArea;\nexport default ChatArea;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"ChatHeader\");\n$RefreshReg$(_c2, \"UserMessage\");\n$RefreshReg$(_c3, \"ChatArea\");","map":{"version":3,"sources":["C:/Users/User/projeto/pi-2/frontend/src/pages/apps/Chat/ChatArea.tsx"],"names":["React","useCallback","useEffect","useState","useForm","Link","Card","Dropdown","Row","Col","classNames","yup","yupResolver","FormInput","Scrollbar","Loader","ProfileModal","VideocallModal","VoicecallModal","CHATHISTORY","avatar1","ChatHeader","selectedUser","showProfileModal","setShowProfileModal","handleProfileModalClose","handleProfileModalShow","showVideocallModal","setShowVideocallModal","handleVideocallModalClose","handleVideocallModalShow","showVoicelModal","setShowVoicelModal","handleVoicelModalClose","handleVoicelModalShow","avatar","name","UserMessage","message","toUser","messages","map","item","index","odd","from","id","length","type","value","file","size","sendOn","ChatArea","loading","setLoading","chatHistory","setChatHistory","getMessagesForUser","setTimeout","modifiedChatHistory","record","test","day","filter","m","to","schemaResolver","object","shape","newMessage","string","required","methods","resolver","handleSubmit","register","control","formState","errors","reset","sendChatMessage","values","newUserMessages","push","Date","getHours","getMinutes","height","width"],"mappings":"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","sourcesContent":["import React, { useCallback, useEffect, useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { Link } from 'react-router-dom';\nimport { Card, Dropdown, Row, Col } from 'react-bootstrap';\nimport classNames from 'classnames';\nimport * as yup from 'yup';\nimport { yupResolver } from '@hookform/resolvers/yup';\n\n// components\nimport { FormInput } from '../../../components/';\nimport Scrollbar from '../../../components/Scrollbar';\nimport Loader from '../../../components/Loader';\n\nimport ProfileModal from './ProfileModal';\nimport VideocallModal from './VideocallModal';\nimport VoicecallModal from './VoicecallModal';\n\n// default data\nimport { CHATHISTORY, ChatUserType, ChatMessage, MessageItem } from './data';\n\n// images\nimport avatar1 from '../../../assets/images/users/avatar-2.jpg';\n\ninterface ChatHeaderProps {\n    selectedUser: ChatUserType;\n}\n\nconst ChatHeader = ({ selectedUser }: ChatHeaderProps) => {\n    // handle profile modal\n    const [showProfileModal, setShowProfileModal] = useState<boolean>(false);\n\n    const handleProfileModalClose = () => setShowProfileModal(false);\n    const handleProfileModalShow = () => setShowProfileModal(true);\n\n    // handle video modal\n    const [showVideocallModal, setShowVideocallModal] = useState<boolean>(false);\n\n    const handleVideocallModalClose = () => setShowVideocallModal(false);\n    const handleVideocallModalShow = () => setShowVideocallModal(true);\n\n    // handle voice modal\n    const [showVoicelModal, setShowVoicelModal] = useState<boolean>(false);\n\n    const handleVoicelModalClose = () => setShowVoicelModal(false);\n    const handleVoicelModalShow = () => setShowVoicelModal(true);\n\n    return (\n        <>\n            <div className=\"d-flex pb-2 border-bottom align-items-center\">\n                <img src={selectedUser.avatar} className=\"me-2 rounded-circle\" height=\"48\" alt=\"\" />\n                <div>\n                    <h5 className=\"mt-0 mb-0 fs-14\">{selectedUser.name}</h5>\n                    <p className=\"mb-0\">Online</p>\n                </div>\n                <div className=\"flex-grow-1\">\n                    <ul className=\"list-inline float-end mb-0\">\n                        <Dropdown as=\"li\" className=\"list-inline-item fs-18 me-3\">\n                            <Dropdown.Toggle id=\"dropdown-apps\" as=\"a\" className=\"cursor-pointer text-dark\">\n                                <i className=\"bi bi-telephone-plus\" onClick={() => handleVoicelModalShow()}></i>\n                            </Dropdown.Toggle>\n                        </Dropdown>\n\n                        <Dropdown as=\"li\" className=\"list-inline-item fs-18 me-3\">\n                            <Dropdown.Toggle id=\"dropdown-apps\" as=\"a\" className=\"cursor-pointer text-dark\">\n                                <i className=\"bi bi-camera-video\" onClick={() => handleVideocallModalShow()}></i>\n                            </Dropdown.Toggle>\n                        </Dropdown>\n\n                        <Dropdown as=\"li\" className=\"list-inline-item fs-18\">\n                            <Dropdown.Toggle id=\"dropdown-apps\" as=\"a\" className=\"cursor-pointer text-dark\">\n                                <i className=\"bi bi-three-dots-vertical\"></i>\n                            </Dropdown.Toggle>\n\n                            <Dropdown.Menu className=\"dropdown-menu-end\">\n                                <Dropdown.Item href=\"#/\" onClick={() => handleProfileModalShow()}>\n                                    {' '}\n                                    <i className=\"bi bi-person-circle fs-18 me-2\"></i>View Profile\n                                </Dropdown.Item>\n                                <Dropdown.Item href=\"#/\">\n                                    <i className=\"bi bi-music-note-list fs-18 me-2\"></i>Media, Links and Docs\n                                </Dropdown.Item>\n                                <Dropdown.Item href=\"#/\">\n                                    <i className=\"bi bi-search fs-18 me-2\"></i>Search\n                                </Dropdown.Item>\n                                <Dropdown.Item href=\"#/\">\n                                    <i className=\"bi bi-image fs-18 me-2\"></i>Wallpaper\n                                </Dropdown.Item>\n                                <Dropdown.Item href=\"#/\">\n                                    <i className=\"bi bi-arrow-right-circle fs-18 me-2\"></i>More\n                                </Dropdown.Item>\n                            </Dropdown.Menu>\n                        </Dropdown>\n                    </ul>\n                </div>\n            </div>\n\n            {/* Profile Modal */}\n            <ProfileModal show={showProfileModal} handleClose={handleProfileModalClose} />\n\n            {/* video call Modal */}\n            <VideocallModal show={showVideocallModal} handleClose={handleVideocallModalClose} />\n\n            {/* Voice call Modal */}\n            <VoicecallModal show={showVoicelModal} handleClose={handleVoicelModalClose} />\n        </>\n    );\n};\n\ninterface UserMessageProps {\n    message: MessageItem;\n    toUser: ChatUserType;\n}\n// user messages\nconst UserMessage = ({ message, toUser }: UserMessageProps) => {\n    return (\n        <>\n            {(message.messages || []).map((item, index) => {\n                return (\n                    <li\n                        key={index}\n                        className={classNames('clearfix', {\n                            odd: message.from.id === toUser.id,\n                            'mb-1': message.messages.length > 1 && index !== message.messages.length - 1,\n                        })}>\n                        <div className=\"conversation-text ms-0\">\n                            <div\n                                className={classNames('d-flex', {\n                                    'justify-content-end': message.from.id === toUser.id,\n                                })}>\n                                {message.from.id === toUser.id && (\n                                    <Dropdown className=\"conversation-actions\">\n                                        <Dropdown.Toggle as=\"a\" className=\"cursor-pointer text-dark pe-1\">\n                                            <i className=\"bi bi-three-dots-vertical fs-14\"></i>\n                                        </Dropdown.Toggle>\n                                        <Dropdown.Menu align=\"end\">\n                                            <Dropdown.Item>\n                                                <i className=\"bi bi-reply fs-18 me-2\"></i>Reply\n                                            </Dropdown.Item>\n                                            <Dropdown.Item>\n                                                <i className=\"bi bi-star fs-18 me-2\"></i>Reply\n                                            </Dropdown.Item>\n                                            <Dropdown.Item>\n                                                <i className=\"bi bi-trash fs-18 me-2\"></i>Delete\n                                            </Dropdown.Item>\n                                            <Dropdown.Item>\n                                                <i className=\"bi bi-files fs-18 me-2\"></i>Copy\n                                            </Dropdown.Item>\n                                        </Dropdown.Menu>\n                                    </Dropdown>\n                                )}\n\n                                {item.type === 'text' && (\n                                    <div className=\"ctext-wrap\">\n                                        <p>{item.value}</p>\n                                    </div>\n                                )}\n\n                                {item.type === 'file' && (\n                                    <Card className=\"mb-1 shadow-none border text-start\">\n                                        <div className=\"p-2\">\n                                            <Row className=\"align-items-center\">\n                                                <Col className=\"col-auto\">\n                                                    <div className=\"avatar-sm bg-primary text-white\">\n                                                        <span className=\"avatar-title rounded\">.ZIP</span>\n                                                    </div>\n                                                </Col>\n                                                <Col className=\"ps-0\">\n                                                    <Link to=\"#\" className=\"text-muted fw-bold\">\n                                                        {item.value.file}\n                                                    </Link>\n                                                    <p className=\"mb-0\">{item.value.size}</p>\n                                                </Col>\n                                                <Col className=\"col-auto\">\n                                                    <Link to=\"#\" className=\"ps-3 fs-24\">\n                                                        <i className=\"bi bi-arrow-down-square\"></i>\n                                                    </Link>\n                                                </Col>\n                                            </Row>\n                                        </div>\n                                    </Card>\n                                )}\n\n                                {message.from.id !== toUser.id && (\n                                    <Dropdown className=\"conversation-actions\">\n                                        <Dropdown.Toggle as=\"a\" className=\"cursor-pointer text-dark ps-1\">\n                                            <i className=\"bi bi-three-dots-vertical fs-14\"></i>\n                                        </Dropdown.Toggle>\n                                        <Dropdown.Menu align=\"start\">\n                                            <Dropdown.Item>\n                                                <i className=\"bi bi-reply fs-18 me-2\"></i>Reply\n                                            </Dropdown.Item>\n                                            <Dropdown.Item>\n                                                <i className=\"bi bi-star fs-18 me-2\"></i>Reply\n                                            </Dropdown.Item>\n                                            <Dropdown.Item>\n                                                <i className=\"bi bi-trash fs-18 me-2\"></i>Delete\n                                            </Dropdown.Item>\n                                            <Dropdown.Item>\n                                                <i className=\"bi bi-files fs-18 me-2\"></i>Copy\n                                            </Dropdown.Item>\n                                        </Dropdown.Menu>\n                                    </Dropdown>\n                                )}\n                            </div>\n                            {index === message.messages.length - 1 && (\n                                <p className=\"text-muted fs-12 mb-0 mt-1\">\n                                    {message.sendOn}\n                                    {message.from.id === toUser.id && (\n                                        <i className=\"bi bi-check2-all ms-1 text-success\"></i>\n                                    )}\n                                </p>\n                            )}\n                        </div>\n                    </li>\n                );\n            })}\n        </>\n    );\n};\n\ninterface ChatAreaProps {\n    selectedUser: ChatUserType;\n}\n\n// ChatArea\nconst ChatArea = ({ selectedUser }: ChatAreaProps) => {\n    const [loading, setLoading] = useState<boolean>(false);\n    const [chatHistory, setChatHistory] = useState<ChatMessage[]>([]);\n    const [toUser] = useState<ChatUserType>({\n        id: 9,\n        name: 'Shreyu N',\n        avatar: avatar1,\n    });\n\n    /*\n     *  Fetches the messages for selected user\n     */\n    const getMessagesForUser = useCallback(() => {\n        if (selectedUser) {\n            setLoading(true);\n            setTimeout(() => {\n                const modifiedChatHistory = [...CHATHISTORY].map((record) => {\n                    const test = {\n                        id: record.id,\n                        day: record.day,\n                        messages: [...record.messages].filter(\n                            (m) =>\n                                (m.to.id === toUser.id && m.from.id === selectedUser.id) ||\n                                (toUser.id === m.from.id && m.to.id === selectedUser.id)\n                        ),\n                    };\n                    return test;\n                });\n                setChatHistory([...modifiedChatHistory]);\n                setLoading(false);\n            }, 750);\n        }\n    }, [selectedUser, toUser.id]);\n\n    useEffect(() => {\n        getMessagesForUser();\n    }, [getMessagesForUser]);\n\n    /*\n     * form validation schema\n     */\n    const schemaResolver = yupResolver(\n        yup.object().shape({\n            newMessage: yup.string().required('Please enter your messsage'),\n        })\n    );\n\n    /*\n     * form methods\n     */\n    const methods = useForm({ resolver: schemaResolver });\n    const {\n        handleSubmit,\n        register,\n        control,\n        formState: { errors },\n        reset,\n    } = methods;\n\n    /**\n     * sends the chat message\n     */\n    const sendChatMessage = (values: { newMessage: string }) => {\n        let newUserMessages = [...chatHistory[chatHistory.length - 1].messages];\n        newUserMessages.push({\n            id: chatHistory[chatHistory.length - 1].messages.length + 1,\n            from: toUser,\n            to: selectedUser,\n            messages: [{ type: 'text', value: values['newMessage'] }],\n            sendOn: new Date().getHours() + ':' + new Date().getMinutes(),\n        });\n\n        const modifiedChatHistory = [...chatHistory].map((record, index) => {\n            const test = {\n                id: record.id,\n                day: record.day,\n                messages: index === chatHistory.length - 1 ? newUserMessages : record.messages,\n            };\n            return test;\n        });\n        setChatHistory([...modifiedChatHistory]);\n        reset();\n    };\n\n    return (\n        <>\n            <Card>\n                <Card.Body>\n                    {loading && <Loader />}\n                    <ChatHeader selectedUser={selectedUser} />\n\n                    <div className=\"mt-1\">\n                        <Scrollbar style={{ height: '509px', width: '100%' }}>\n                            <ul className=\"conversation-list px-0 h-100\">\n                                {(chatHistory || []).map((item, index) => {\n                                    return (\n                                        <React.Fragment key={index}>\n                                            <li className=\"position-relative\">\n                                                <hr />\n                                                <h4>\n                                                    <span className=\"badge bg-light text-dark position-absolute top-0 start-50 translate-middle\">\n                                                        {item.day}\n                                                    </span>\n                                                </h4>\n                                            </li>\n                                            {(item.messages || []).map((message, index) => {\n                                                return <UserMessage key={index} message={message} toUser={toUser} />;\n                                            })}\n                                        </React.Fragment>\n                                    );\n                                })}\n                            </ul>\n                        </Scrollbar>\n\n                        <div className=\"mt-2 bg-light p-3 rounded\">\n                            <form noValidate name=\"chat-form\" id=\"chat-form\" onSubmit={handleSubmit(sendChatMessage)}>\n                                <div className=\"row\">\n                                    <div className=\"col mb-2 mb-sm-0\">\n                                        <FormInput\n                                            type=\"text\"\n                                            name=\"newMessage\"\n                                            className=\"border-0\"\n                                            placeholder=\"Enter your text\"\n                                            register={register}\n                                            key=\"newMessage\"\n                                            errors={errors}\n                                            control={control}\n                                        />\n                                    </div>\n                                    <div className=\"col-sm-auto\">\n                                        <div className=\"btn-group\">\n                                            <Link to=\"#\" className=\"btn btn-light\">\n                                                <i className=\"bi bi-emoji-smile fs-18\"></i>\n                                            </Link>\n                                            <Link to=\"#\" className=\"btn btn-light\">\n                                                <i className=\"bi bi-paperclip fs-18\"></i>\n                                            </Link>\n                                            <Link to=\"#\" className=\"btn btn-light\">\n                                                <i className=\"bi bi-camera fs-18\"></i>\n                                            </Link>\n                                            <button type=\"submit\" className=\"btn btn-success chat-send\">\n                                                <i className=\"uil uil-message\"></i>\n                                            </button>\n                                        </div>\n                                    </div>\n                                </div>\n                            </form>\n                        </div>\n                    </div>\n                </Card.Body>\n            </Card>\n        </>\n    );\n};\n\nexport default ChatArea;\n"]},"metadata":{},"sourceType":"module"}